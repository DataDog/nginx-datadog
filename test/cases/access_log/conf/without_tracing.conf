load_module modules/ngx_http_datadog_module.so;

error_log stderr info;

events {
    worker_connections  1024;
}

http {
    server {
        listen       80;
        # Not specifying a format means to use the default, which the Datadog
        # module overrides to contain the trace ID and span ID.
        access_log /dev/stdout;

        location /sync {
            return 200;
        }

        location /http {
            datadog_disable;
            proxy_pass http://http:8080;
        }
    }
}
